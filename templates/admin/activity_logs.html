{% extends 'admin/base_admin.html' %}

{% block title %}Activity Logs - 3DBotics Admin{% endblock %}

{% block admin_content %}
<div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-bold text-teal-800">Activity Logs</h1>
</div>

<div class="bg-white rounded-xl shadow overflow-hidden">
    <table class="w-full">
        <thead class="bg-gray-50">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Timestamp</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Admin</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Action</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Details</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">IP Address</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
            {% for log in logs %}
            <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-500">{{ log.created_at }}</td>
                <td class="px-6 py-4 text-sm text-gray-900">{{ log.admin_name }}</td>
                <td class="px-6 py-4">
                    <span class="px-2 py-1 text-xs rounded-full 
                        {% if 'DELETE' in log.action %}bg-red-100 text-red-700
                        {% elif 'CREATE' in log.action or 'ADD' in log.action %}bg-green-100 text-green-700
                        {% elif 'UPDATE' in log.action or 'EDIT' in log.action %}bg-yellow-100 text-yellow-700
                        {% else %}bg-gray-100 text-gray-700{% endif %}">
                        {{ log.action }}
                    </span>
                </td>
                <td class="px-6 py-4 text-sm text-gray-600">{{ log.details or '-' }}</td>
                <td class="px-6 py-4 text-sm text-gray-400">{{ log.ip_address or '-' }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" class="px-6 py-8 text-center text-gray-500">No activity logs yet</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-6 bg-teal-50 border border-teal-200 rounded-lg p-4">
    <h3 class="font-bold text-teal-800 mb-2">About Activity Logs</h3>
    <p class="text-teal-700 text-sm">
        All administrative actions including record deletions, modifications, and critical changes are logged here for audit purposes.
        Logs include the admin who performed the action, timestamp, and relevant details.
    </p>
</div>
{% endblock %}
